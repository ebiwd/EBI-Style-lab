<!doctype html>
<html class="no-js" lang="en">
<head>
  <meta charset="utf-8" />
  <title>EMBL-EBI Style Lab < Data Protection Banner</title>
  <meta name="description" content="">

  <link rel="stylesheet" href="../../assets/css/app.css?rev=a490e1a00953bec3118569e9c0020333">
  <!-- If you have custom icon, replace these as appropriate.
       You can generate them at realfavicongenerator.net -->
  <link rel="icon" type="image/x-icon" href="https://dev.ebi.emblstatic.net/web_guidelines/EBI-Framework/v1.4/images/logos/EMBL-EBI/favicons/favicon.ico" />
  <link rel="icon" type="image/png" href="https://dev.ebi.emblstatic.net/web_guidelines/EBI-Framework/v1.4/images/logos/EMBL-EBI/favicons/favicon-32x32.png" />
  <link rel="icon" type="image/png" sizes="192×192" href="https://dev.ebi.emblstatic.net/web_guidelines/EBI-Framework/v1.4/images/logos/EMBL-EBI/favicons/android-chrome-192x192.png" /> <!-- Android (192px) -->
  <link rel="apple-touch-icon-precomposed" sizes="114x114" href="https://dev.ebi.emblstatic.net/web_guidelines/EBI-Framework/v1.4/images/logos/EMBL-EBI/favicons/apple-icon-114x114.png" /> <!-- For iPhone 4 Retina display (114px) -->
  <link rel="apple-touch-icon-precomposed" sizes="72x72" href="https://dev.ebi.emblstatic.net/web_guidelines/EBI-Framework/v1.4/images/logos/EMBL-EBI/favicons/apple-icon-72x72.png" /> <!-- For iPad (72px) -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://dev.ebi.emblstatic.net/web_guidelines/EBI-Framework/v1.4/images/logos/EMBL-EBI/favicons/apple-icon-144x144.png" /> <!-- For iPad retinat (144px) -->
  <link rel="apple-touch-icon-precomposed" href="https://dev.ebi.emblstatic.net/web_guidelines/EBI-Framework/v1.4/images/logos/EMBL-EBI/favicons/apple-icon-57x57.png" /> <!-- For iPhone (57px) -->
  <link rel="mask-icon" href="https://dev.ebi.emblstatic.net/web_guidelines/EBI-Framework/v1.4/images/logos/EMBL-EBI/favicons/safari-pinned-tab.svg" color="#ffffff" /> <!-- Safari icon for pinned tab -->
  <meta name="msapplication-TileColor" content="#2b5797" /> <!-- MS Icons -->
  <meta name="msapplication-TileImage" content="//www.ebi.ac.uk/web_guidelines/EBI-Framework/v1.2/images/logos/EMBL-EBI/favicons/mstile-144x144.png" />
  
  <!-- CSS: implied media=all -->
  <!-- CSS concatenated and minified via ant build script-->
  <link rel="stylesheet" href="https://dev.ebi.emblstatic.net/web_guidelines/EBI-Framework/v1.4/css/ebi-global.css" type="text/css" media="all" />
  <link rel="stylesheet" href="https://dev.ebi.emblstatic.net/web_guidelines/EBI-Icon-fonts/v1.3/fonts.css" type="text/css" media="all" />
  
  
  <!-- If you have a custom header image or colour -->
  <!--
  <meta name="ebi:masthead-color" content="#000" />
  <meta name="ebi:masthead-image" content="//www.ebi.ac.uk/web_guidelines/EBI-Framework/images/backgrounds/embl-ebi-background.jpg" />
  -->
  
  <!-- you can replace this with theme-[projectname].css. See https://www.ebi.ac.uk/web/style/colour for details of how to do this -->
  <!-- also inform ES so we can host your colour palette file -->
  <!-- end CSS-->

  <style>
    body {
      padding: 16px;
      border-top: 1px solid #ccc;
    }

    @media screen and (min-width: 64em) {
      body {
        padding: 50px;
      }
    }
  </style>
  <link rel="stylesheet" href="../../websites/patterns/banner-data-protection/layout.css?rev=4c3c2b8014c2c61c8fb14108149ec260">
  <link rel="stylesheet" href="../../websites/patterns/banner-data-protection/banner-data-protection.css?rev=4d4bf1c2bb21866c581b4b0209242d6e">
</head>
<body>
  <h3>Demonstration and documentation</h3>
  
  <div class="row" style="max-width: 1200px; margin: 0 auto; font-family: Helvetica, sans-serif; line-height: 1.5rem; padding-bottom: 1rem;">
  <div class="column">
  <h3 id="about-the-banner">About the banner</h3>
    <p class="lead">The <a href="https://www.ebi.ac.uk/seqdb/confluence/display/WGC/">Web Guidelines Committee</a> and Web Development team have worked to replace the existing cookie banner with one compatible with EMBL-EBI’s Data Protection efforts.</p>
  
  <p>  <strong>Tl;dr:</strong>If you’re using the <a href="https://www.ebi.ac.uk/style-lab/websites/">EBI Visual Framework</a> , don’t have a unique privacy policy and don’t use React or Angular, you don’t need to do anything else.</p>
  <h4 id="what-is-it">What is it?</h4>
  <p>  It’s a bit like a cookie banner 2.0. It persists on page views until accepted and will reappear if the data protection policy is updated. <a href="https://docs.google.com/document/d/1bplnPB1mryVH9X2HmdzWMxxAKcLVGj9PqV7ipwzj6bU/edit?usp=sharing">See a comparison here</a>.</p>
  <h4 id="whats-it-look-like">What’s it look like?</h4>
  <p>  The development version <a class="readmore" href="https://www.ebi.ac.uk/style-lab/">is in use on the Style Lab</a> (also sceenshoted below)</p>
    <p><img height="83" src="https://lh5.googleusercontent.com/PDuXyfiy2nEfaKFZjKD8GFe3hn-akCAsK_6rPS4YHCd_DM7NU4KL5EENzcN45gZS4kCSlCdDKuO0P18iFoAgSBgL92zJfy4TL-fH20Yih9-MXBN_18pixva1PHTEEUdV-MvxGpHz" width="602" /></p>
  
  <h3 id="how-do-i-use-it">How do I use it</h3>
  <p>  If you’re using any version the EBI Visual Framework (v1.1, v1.2, or v1.3), you don’t need to do anything else. We’ll replace the cookie banner with this banner in time for 25 May 2018.</p>
  <h3 id="disabling-the-banner">Disabling the banner</h3>
  <p>  If you&#39;re also using the VF 2.x, you should use its data protection banner. The 1.4 banner can be disabled by adding an element with  <code>data-protection-message-disable=&quot;true&quot;</code>.</p>
  <h4 id="if-you-have-a-unique-privacy-policy-and-need-to-customise-the-text-links">If you have a unique privacy policy and need to customise the text, links</h4>
  <p>  Add the code below and the banner will be built accordingly:</p>
  <div class="code-example"><pre><code class="html hljs"><span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"data-protection-message-configuration"</span> <span class="hljs-attribute">data-message</span>=<span class="hljs-value">"Your message and links &lt;a class='white-color' href='#test'&gt;here&lt;/a&gt;."</span> <span class="hljs-attribute">data-service-id</span>=<span class="hljs-value">"myService"</span> <span class="hljs-attribute">data-data-protection-version</span>=<span class="hljs-value">"0.1"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span></code></pre></div><p>  Be sure to <code>data-service-id</code> to match the URL stub from <a href="http://content.ebi.ac.uk/list-data-protection-records">your Data Protection record in the ContentDB</a>.</p>
  <p>  Advantages for doing this are:</p>
  <ol>
  <li><p>Those URLs are by definition unique per privacy notice. Using these prevents two teams accidentally giving the same service-id, and consent getting muddled up.</p>
  </li>
  <li><p>In the future we want this component to automatically pull in the latest version number from the corresponding privacy notice. The API to do that will need the service-id to match between this code and the <a href="http://content.ebi.ac.uk/list-data-protection-records">EMBL-EBI Data Protection Engine</a>.</p>
  <h4 id="if-you-use-a-js-framework-angular-react--and-the-banner-gets-destroyed-on-page-render">If you use a JS framework (Angular, React, ...) and the banner gets destroyed on page render</h4>
  <p>Re-invoke the banner on page build with <code>ebiFrameworkRunDataProtectionBanner();</code></p>
  <h4 id="if-youre-not-using-the-ebi-visual-framework">If you&#39;re not using the EBI Visual Framework:</h4>
  <p>This banner code will be automatically invoked for users of the EBI Visual Framework, sites still using Compliance theme (or other frameworks) can add this JS code:</p>
  <div class="code-example"><pre><code class="html hljs">var localFrameworkVersion = '1.1'; // 1.1 or 1.2 or compliance or other
   // if you select compliance or other we will add some helpful
   // CSS styling, but you may need to add some CSS yourself
  var newDataProtectionNotificationBanner = document.createElement('script');
  newDataProtectionNotificationBanner.src = 'https://ebi.emblstatic.net/web_guidelines/EBI-Framework/v1.3/js/ebi-global-includes/script/5_ebiFrameworkNotificationBanner.js?legacyRequest='+localFrameworkVersion;
  document.head.appendChild(newDataProtectionNotificationBanner);
  newDataProtectionNotificationBanner.onload = function() {
  ebiFrameworkRunDataProtectionBanner(); // invoke the banner
  };</code></pre></div><h3 id="how-it-works">How it works</h3>
  <p>Acceptance will be stored on the user&#39;s device with a cookie name automatically derived from the <code>service-id</code> and <code>data-protection-version</code>.</p>
  <p>This sample implementation has been designed to be flexible and is currently being shown using the <code>ebi-lite.css</code> version. It will work the same using the full <code>ebi-global.css</code></p>
  <h3 id="demo">Demo</h3>
  <p>For an interactive demo, <a href="https://codepen.io/khawkins98/pen/LmWpMV">see the sample CodePen</a>.</p>
  <h3 id="i-have-an-ideaconcernproblem">I have an idea/concern/problem</h3>
  <p>Let us know! <a href="mailto:khawkins@ebi.ac.uk">khawkins@ebi.ac.uk</a> or <a href="https://github.com/ebiwd/EBI-Framework/issues/137">post to the GitHub issue</a>.</p>
  </li>
  </ol>
  </div>
  </div>
  
  <!-- <script src="../../assets_site/js/app.js?rev=aade9297ce317e9d1e085ab089a25689"></script> -->

  <script defer="defer" src="../../websites/patterns/banner-data-protection/banner-data-protection.js"></script>
  <!-- JavaScript -->
  <!-- Grab Google CDN's jQuery, with a protocol relative URL; fall back to local if offline -->
  <!--
  <script>window.jQuery || document.write('<script src="../js/libs/jquery-1.10.2.min.js"><\/script>')</script>
  -->
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
  <!-- Your custom JavaScript file scan go here... change names accordingly -->
  <!--
  <script defer="defer" src="//www.ebi.ac.uk/web_guidelines/js/plugins.js"></script>
  <script defer="defer" src="//www.ebi.ac.uk/web_guidelines/js/script.js"></script>
  -->

  <script src="//www.ebi.ac.uk/web_guidelines/EBI-Framework/v1.3/js/script.js"></script>

  <!-- The Foundation theme JavaScript -->
  <script src="//www.ebi.ac.uk/web_guidelines/EBI-Framework/v1.3/libraries/foundation-6/js/foundation.js"></script>
  <script src="//www.ebi.ac.uk/web_guidelines/EBI-Framework/v1.3/js/foundationExtendEBI.js"></script>
  <script type="text/JavaScript">$(document).foundation();</script>
  <script type="text/JavaScript">$(document).foundationExtendEBI();</script>

  <!-- Google Analytics details... -->
  <script type="text/javascript">!function(e,a,n,t,i,o,c){e.GoogleAnalyticsObject=i,e[i]=e[i]||function(){(e[i].q=e[i].q||[]).push(arguments)},e[i].l=1*new Date,o=a.createElement(n),c=a.getElementsByTagName(n)[0],o.async=1,o.src="//www.google-analytics.com/analytics.js",c.parentNode.insertBefore(o,c)}(window,document,"script",0,"ga"),ga("create","UA-629242-1",{cookieDomain:"auto"}),ga("require","linkid","linkid.js"),ga("set","anonymizeIp",!0),ga("send","pageview");</script>

  <script type="text/JavaScript">
  // all iframe links should open in parent tab or new window
  $(window).load(function(){
    $('a[href^="http"]').not('a[href*=#]').attr('target','_blank');
    $('a[href^="../"]').not('a[href*=#]').attr('target','_parent');
  });
  </script>


</body>
</html>
